---
---

<!DOCTYPE html>
<html lang="en_US">

<head>
  {%- feed_meta -%}
  {%- seo -%}
  {%- include head.html -%}
  {% if page.baseurl %}
  <base href="{{page.baseurl}}" />
  {% endif %}
  {% if page.math %}
  <link rel="stylesheet" href="https://threelearning.zhangxinghai.cn/assets/jslibs/katex/katex.min.css">
  <script defer src="https://threelearning.zhangxinghai.cn/assets/jslibs/katex/katex.min.js"></script>
  <script defer src="https://threelearning.zhangxinghai.cn/assets/jslibs/katex/contrib/auto-render.min.js"></script>
  {% endif %}
</head>

<body>
  <div class="page-wrapper">
    <main id="page">
      <article class="article Cat-{{page.category}}">{{ content }}</article>
    </main>
  </div>
</body>
<script>
  function __goBackToIndex() {
    const cat = location.pathname.split('/')[1];
    if (cat === 'tech') location.href = '/';
    else if (cat === 'journal') {
      location.href = '/life'
    } else {
      location.href = `/${cat}`
    }
  }
</script>
{% if page.math %}
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const container = document.querySelector('#Book__Content');

    if (!container) {
      console.warn("No container found for rendering math.");
      return;
    }

    renderMathInElement(container, {
      delimiters: [
        { left: "$$", right: "$$", display: true },  // Block math
        { left: "$", right: "$", display: false }    // Inline math
      ],
      throwOnError: false
    });

    container.querySelectorAll("pre code.language-math").forEach((block) => {
      const tex = block.textContent.trim();
      const wrapper = document.createElement("div");
      katex.render(tex, wrapper, { displayMode: true, throwOnError: false });
      block.replaceWith(wrapper);
    });
  });
</script>
{% endif %}

</html>