---
---

<!DOCTYPE html>
<html lang="en_US">

<head>
  {%- feed_meta -%}
  {%- seo -%}
  {%- include head.html -%}

  {% if page.baseurl %}
  <base href="{{page.baseurl}}" />
  {% endif %}

  {% if page.math %}
  <link rel="stylesheet" href="https://threelearning.zhangxinghai.cn/assets/jslibs/katex/katex.min.css">
  <script defer src="https://threelearning.zhangxinghai.cn/assets/jslibs/katex/katex.min.js"></script>
  <script defer src="https://threelearning.zhangxinghai.cn/assets/jslibs/katex/contrib/auto-render.min.js"></script>
  <style>
    .katex-display {
      display: block;
      position: relative;
      left: 50%;
      transform: translate(-50%, 0);
      width: 100vw;
      overflow: auto hidden;
      margin: 1em 0;
    }

    .katex {
      font-size: 1em;
      max-width: 100%;
    }

    .katex-display>.katex {
      padding: 0 3em;
    }

    .table {
      position: relative;
      display: flex;
      justify-content: center;
      left: 50%;
      transform: translate(-50%, 0);
      width: 100vw;
      overflow: auto hidden;
      margin: 1em 0;
      padding: 0 1em;
      box-sizing: border-box;
    }

    .table table {
      width: auto;
      max-width: 100%;
    }

    table th {
      text-align: left;
      font-size: .66em;
    }

    table td {
      font-size: .7em;
    }

    video {
      width: 100%;
    }

    body {
      background: #eee;
    }

    code.highlighter-rouge {
      background-color: #dee8f8;
      color: #575b5f;
      padding: 3px 6px;
    }
  </style>
  {% endif %}
  {% if page.book == 'opengl' %}
  <style>
    /* Basic body styling for context */
    /* body {
      font-family: Arial, sans-serif;
      margin: 20px;
    } */

    /* Style for the <dialog> element */
    dialog {
      border: none;
      /* Remove default dialog border */
      padding: 0;
      /* Remove default dialog padding */
      margin: 0;
      /* Remove default dialog margin */
      width: 100vw;
      /* Full viewport width */
      height: 100vh;
      /* Full viewport height */
      max-width: 100vw;
      /* Ensure it doesn't get limited by a max-width */
      max-height: 100vh;
      /* Ensure it doesn't get limited by a max-height */
      background-color: rgba(0, 0, 0, 0.8);
      /* Semi-transparent black background */
      overflow: hidden;
      /* Prevent scrolling on the dialog itself */
      display: flex;
      /* Use flexbox for inner content */
      flex-direction: column;
      /* Stack children vertically */
      box-sizing: border-box;
      /* Include padding/border in total size */
    }

    /* Specific styling for the backdrop when dialog is open */
    dialog::backdrop {
      background-color: rgba(0, 0, 0, 0.8);
      /* Ensures the backdrop matches the dialog background */
    }

    /* Content wrapper inside the dialog to manage padding for the close button */
    .dialog-content-wrapper {
      position: relative;
      /* For absolute positioning of the close button */
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
    }

    /* Close Button */
    .close-button {
      color: #aaaaaa;
      font-size: 28px;
      font-weight: bold;
      position: absolute;
      top: 10px;
      right: 20px;
      z-index: 1;
      /* Make sure it's above the iframe */
      cursor: pointer;
      background: none;
      /* Remove button default background */
      border: none;
      /* Remove button default border */
      padding: 0;
      /* Remove button default padding */
      line-height: 1;
      /* Adjust line height for cleaner X */
    }

    .close-button:hover,
    .close-button:focus {
      color: #fff;
      /* White on hover */
      text-decoration: none;
      outline: none;
      /* Remove outline on focus for aesthetics */
    }

    /* iFrame styling */
    #fullScreenIframe {
      width: 100%;
      /* Make iframe fill the width of its parent */
      flex-grow: 1;
      /* Make iframe grow to fill remaining vertical space */
      border: none;
      /* Remove iframe border */
      padding-top: 40px;
      /* Space for the close button */
      box-sizing: border-box;
      /* Include padding in element's total size */
    }
  </style>
  {% endif %}
</head>

<body>
  <div class="page-wrapper hide-scrollbar">
    <main id="page">
      <article class="article Cat-{{page.category}}">{{ content }}</article>
    </main>
  </div>
  <script>
    function __goBackToIndex(slug) {
      const cat = location.pathname.split('/')[1];
      if (cat === 'tech') location.href = '/';
      else if (cat === 'journal') {
        location.href = '/life'
      } else if (cat === 'historydefined') {
        location.href = `/hisd#${slug ? slug : ''}`;
      } else {
        location.href = `/${cat}#${slug ? slug : ''}`
      }
    }
  </script>
</body>

</html>